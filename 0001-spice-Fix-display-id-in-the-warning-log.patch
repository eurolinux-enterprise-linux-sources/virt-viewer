From 073c98cadd5ee8273e73b3081ab5d7199c2b40b4 Mon Sep 17 00:00:00 2001
From: Snir Sheriber <ssheribe@redhat.com>
Date: Thu, 29 Dec 2016 15:40:43 +0200
Subject: [PATCH 01/26] spice: Fix display id in the warning log
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

The display id in the warning log is now consistent with the display
id in the "view->displays->display x" menu item

Related: rhbz#1368390

Acked-by: Fabiano FidÃªncio <fabiano@fidencio.org>
---
 src/virt-viewer-session-spice.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/virt-viewer-session-spice.c b/src/virt-viewer-session-spice.c
index 731f074..c24f94d 100644
--- a/src/virt-viewer-session-spice.c
+++ b/src/virt-viewer-session-spice.c
@@ -915,7 +915,7 @@ virt_viewer_session_spice_display_monitors(SpiceChannel *channel,
         if (!disabled && fullscreen_mode && self->priv->did_auto_conf &&
             !display_is_in_fullscreen_mode(self, VIRT_VIEWER_DISPLAY(display))) {
             g_warning("display %d should not be enabled, disabling",
-                      virt_viewer_display_get_nth(VIRT_VIEWER_DISPLAY(display)));
+                      virt_viewer_display_get_nth(VIRT_VIEWER_DISPLAY(display)) + 1);
             spice_main_set_display_enabled(virt_viewer_session_spice_get_main_channel(self),
                                            virt_viewer_display_get_nth(VIRT_VIEWER_DISPLAY(display)),
                                            FALSE);
-- 
2.12.0

